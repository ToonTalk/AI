<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Antimatter Zoo</title>
  <style>
    body {
      margin: 0;
      font-family: sans-serif;
      background: #fdf7fb;
      color: #333;
      display: flex;
      flex-direction: column;
      height: 100vh;
    }
    header {
      background: #e84393;
      color: white;
      padding: 10px 20px;
    }
    #controls {
      padding: 10px;
      background: #fff;
      display: flex;
      align-items: center;
      gap: 10px;
    }
    #canvasContainer {
      flex: 1;
      display: flex;
      justify-content: center;
      align-items: center;
      background: #fdf7fb;
    }
    canvas {
      border: 1px solid #ccc;
      background: #ffffff;
    }
    a { color: white; }
  </style>
</head>
<body>
  <header>
    <h1>Antimatter Zoo</h1>
    <a href="index.html">&larr; Back to Menu</a>
  </header>
  <div id="controls">
    <label for="radius">Containment Field Radius:</label>
    <input type="range" id="radius" min="50" max="230" value="150">
    <span id="radiusVal">150</span>
    <span id="events">Annihilations: 0</span>
  </div>
  <div id="canvasContainer">
    <canvas id="zooCanvas" width="500" height="500"></canvas>
  </div>
  <script>
    const canvas = document.getElementById('zooCanvas');
    const ctx = canvas.getContext('2d');
    const radiusSlider = document.getElementById('radius');
    const radiusVal = document.getElementById('radiusVal');
    const eventsEl = document.getElementById('events');
    let safeRadius = parseInt(radiusSlider.value);
    let annihilations = 0;
    const center = { x: canvas.width / 2, y: canvas.height / 2 };
    // Particle
    let particle = { x: center.x, y: center.y, vx: Math.random()*2-1, vy: Math.random()*2-1 };
    radiusSlider.addEventListener('input', () => {
      safeRadius = parseInt(radiusSlider.value);
      radiusVal.textContent = safeRadius;
    });
    function resetParticle() {
      particle.x = center.x;
      particle.y = center.y;
      particle.vx = Math.random()*2 - 1;
      particle.vy = Math.random()*2 - 1;
    }
    function update() {
      // move particle
      particle.x += particle.vx;
      particle.y += particle.vy;
      // random jitter
      particle.vx += (Math.random() - 0.5) * 0.2;
      particle.vy += (Math.random() - 0.5) * 0.2;
      // speed limit
      const speed = Math.sqrt(particle.vx*particle.vx + particle.vy*particle.vy);
      const maxSpeed = 2.5;
      if (speed > maxSpeed) {
        particle.vx = (particle.vx/speed) * maxSpeed;
        particle.vy = (particle.vy/speed) * maxSpeed;
      }
      // check boundary
      const dx = particle.x - center.x;
      const dy = particle.y - center.y;
      const dist = Math.sqrt(dx*dx + dy*dy);
      if (dist > safeRadius) {
        annihilations++;
        eventsEl.textContent = 'Annihilations: ' + annihilations;
        resetParticle();
      }
    }
    function draw() {
      ctx.clearRect(0, 0, canvas.width, canvas.height);
      // draw safe zone
      ctx.strokeStyle = '#e84393';
      ctx.lineWidth = 2;
      ctx.setLineDash([5,5]);
      ctx.beginPath();
      ctx.arc(center.x, center.y, safeRadius, 0, Math.PI * 2);
      ctx.stroke();
      ctx.setLineDash([]);
      // draw particle
      ctx.fillStyle = '#8e44ad';
      ctx.beginPath();
      ctx.arc(particle.x, particle.y, 6, 0, Math.PI * 2);
      ctx.fill();
    }
    function loop() {
      update();
      draw();
      requestAnimationFrame(loop);
    }
    loop();
  </script>
</body>
</html>