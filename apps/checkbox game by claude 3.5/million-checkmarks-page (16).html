<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Checkbox Conquest: Dynamic Color-Flipping Multiplayer Game</title>
    <style>
        /* ... [previous styles remain unchanged] ... */
    </style>
</head>
<body>
    <!-- ... [previous HTML content remains unchanged] ... -->

    <script src="https://cdnjs.cloudflare.com/ajax/libs/peerjs/1.4.7/peerjs.min.js"></script>
    <script>
        // ... [previous JavaScript code remains unchanged up to the makeMove function] ...

        function makeMove(index) {
            const checkbox = gameBoard.children[index];
            if (checkbox.style.backgroundColor === opponentColor.value) {
                // Flipping opponent's square
                checkbox.style.backgroundColor = yourColor.value;
                yourScore++;
                opponentScore--;
            } else if (!checkbox.style.backgroundColor) {
                // Claiming empty square
                checkbox.style.backgroundColor = yourColor.value;
                yourScore++;
            }
            // If it's your own color, do nothing
            updateScores();
        }

        function handleOpponentMove(index) {
            const checkbox = gameBoard.children[index];
            if (checkbox.style.backgroundColor === yourColor.value) {
                // Opponent flipping your square
                checkbox.style.backgroundColor = opponentColor.value;
                opponentScore++;
                yourScore--;
            } else if (!checkbox.style.backgroundColor) {
                // Opponent claiming empty square
                checkbox.style.backgroundColor = opponentColor.value;
                opponentScore++;
            }
            // If it's opponent's own color, do nothing
            updateScores();
        }

        // ... [rest of the JavaScript code remains unchanged] ...
    </script>
</body>
</html>
